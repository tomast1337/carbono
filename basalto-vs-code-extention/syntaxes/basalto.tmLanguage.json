{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Basalto",
    "patterns": [
      {
        "include": "#comments"
      },
      {
        "include": "#struct_definition"
      },
      {
        "include": "#type_annotation"
      },
      {
        "include": "#keywords"
      },
      {
        "include": "#types"
      },
      {
        "include": "#strings"
      },
      {
        "include": "#numbers"
      },
      {
        "include": "#operators"
      },
      {
        "include": "#functions"
      }
    ],
    "repository": {
      "struct_definition": {
        "match": "\\b(estrutura)\\s+([a-zA-Z_][a-zA-Z0-9_]*)",
        "captures": {
          "1": { "name": "keyword.other.basalto" },
          "2": { "name": "entity.name.type.class.basalto" }
        }
      },
      "type_annotation": {
        "comment": "Matches ': Type' or ': [Type]'",
        "match": "(:)\\s*(\\[?\\s*[a-zA-Z_][a-zA-Z0-9_]*\\s*\\]?)",
        "captures": {
          "1": { "name": "keyword.operator.type.annotation.basalto" },
          "2": { "name": "entity.name.type.basalto" }
        }
      },
      "keywords": {
        "patterns": [
          {
            "name": "keyword.control.basalto",
            "match": "\\b(se|senao|enquanto|cada|infinito|parar|continuar|retorne|garantir)\\b"
          },
          {
            "name": "keyword.other.basalto",
            "match": "\\b(programa|biblioteca|funcao|estrutura|externo|var)\\b"
          },
          {
            "name": "keyword.operator.new.basalto",
            "match": "\\b(ler|escreval|nova|incorporar)\\b"
          },
          {
            "name": "constant.language.null.basalto",
            "match": "\\b(nulo)\\b"
          }
        ]
      },
      "types": {
        "patterns": [
          {
            "name": "storage.type.basalto",
            "match": "\\b(inteiro32|inteiro64|inteiro16|inteiro8|inteiro_arq|natural32|natural64|natural16|natural_arq|tamanho|byte|real32|real64|real_ext|booleano|texto|caractere|ponteiro|vazio|i32|i64|i16|i8|n32|n64|n16|bool|r32|r64|r_ext)\\b"
          },
          {
            "name": "constant.language.basalto",
            "match": "\\b(verdadeiro|falso)\\b"
          }
        ]
      },
      "strings": {
        "name": "string.quoted.double.basalto",
        "begin": "\"",
        "end": "\"",
        "patterns": [
          {
            "name": "constant.character.escape.basalto",
            "match": "\\\\."
          },
          {
            "name": "variable.other.interpolation.basalto",
            "match": "\\$\\{[^\\}]+\\}"
          }
        ]
      },
      "comments": {
        "patterns": [
          {
            "name": "comment.line.double-slash.basalto",
            "match": "//.*$"
          },
          {
            "name": "comment.block.basalto",
            "begin": "/\\*",
            "end": "\\*/"
          }
        ]
      },
      "functions": {
        "patterns": [
          {
            "name": "entity.name.function.basalto",
            "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)(?=\\()"
          }
        ]
      },
      "numbers": {
          "name": "constant.numeric.basalto",
          "match": "\\b\\d+(?:_\\d+)*(\\.\\d+(?:_\\d+)*)?(r|f)?\\b"
      },
      "operators": {
        "patterns": [
          {
            "name": "keyword.operator.range.basalto",
            "match": "\\.\\."
          }
        ]
      }
    },
    "scopeName": "source.basalto"
  }